<h1 id="custom-metrics">Custom Metrics</h1>
<p>WebPagetest can execute arbitrary javascript at the end of a test to collect custom metrics.  These can be defined statically in the server configuration or be specified at runtime on a per-test basis.</p>
<p>The javascript should be written as if it were executing inside of a function call and return the custom metric at the end.  Here is an example that finds the meta viewport for the page and extracts it:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> viewport <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> metaTags<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"meta"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> metaTags<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>metaTags<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"viewport"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        viewport <span class="token operator">=</span> metaTags<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"content"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">break</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><span class="token keyword">return</span> viewport<span class="token punctuation">;</span></code></pre>
<h2 id="supported-browsers">Supported Browsers</h2>
<ul>
<li>Internet Explorer</li>
<li>Chrome</li>
<li>Firefox</li>
</ul>
<h2 id="things-to-watch-out-for">Things to watch out for</h2>
<ul>
<li>Asynchronous operations are supported by returning a Promise, but it must resolve after 30 seconds.</li>
<li>Custom metrics live in the same namespace as the built-in metrics and can override built-in metrics if they have the same name.</li>
<li>Metric names should be simple alpha-numeric and probably without spaces.</li>
</ul>
<h2 id="specifying-custom-metrics-at-test-time">Specifying custom metrics at test time</h2>
<p>The text input box for the metrics takes the metrics definitions in the form of an ini file for simplicity:</p>
<pre class="language-ini"><code class="language-ini"><span class="token selector">[metric-name]</span><br>&lt;code><br><br><span class="token selector">[metric-2-name]</span><br>&lt;metric 2 code></code></pre>
<p>Here is an example that collects 3 different metrics (2 numerical and one string):</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">[</span>iframe<span class="token operator">-</span>count<span class="token punctuation">]</span><br><span class="token keyword">return</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"iframe"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span><br><br><span class="token punctuation">[</span>script<span class="token operator">-</span>tag<span class="token operator">-</span>count<span class="token punctuation">]</span><br><span class="token keyword">return</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"script"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span><br><br><span class="token punctuation">[</span>meta<span class="token operator">-</span>viewport<span class="token punctuation">]</span><br><span class="token keyword">var</span> viewport <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> metaTags<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"meta"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> metaTags<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>metaTags<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"viewport"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        viewport <span class="token operator">=</span> metaTags<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"content"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">break</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><span class="token keyword">return</span> viewport<span class="token punctuation">;</span></code></pre>
<h2 id="specifying-custom-metrics-statically-(private-instances)">Specifying custom metrics statically (private instances)</h2>
<p>Each metric lives as a separate file under settings/custom_metrics with a .js extension.  The file name will be the recorded name of the metric and the result of executing the code will be the value.</p>
<p>For example, a file <em><strong>settings/custom_metrics/meta-viewport.js</strong></em> would define a custom variable <em><strong>meta-viewport</strong></em> and the contents would look like:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> viewport <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> metaTags<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"meta"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> metaTags<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>metaTags<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"viewport"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        viewport <span class="token operator">=</span> metaTags<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"content"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">break</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><span class="token keyword">return</span> viewport<span class="token punctuation">;</span></code></pre>
<h2 id="accessing-requests-data-(chrome-only)">Accessing Requests Data (Chrome-only)</h2>
<p>Usually custom metrics only have access to the DOM but WebPageTest supports a script substitution where it will replace any occurrences of <strong>$WPT_REQUESTS</strong> or <strong>$WPT_BODIES</strong> in the script with a javascript array that contains the raw request data, optionally including text bodies, headers and other details provided by the Chrome dev tools protocol. The requests are ordered in the order that theywere created, not necessarily the order they were sent on the network.</p>
<ul>
<li><strong>$WPT_REQUESTS</strong> - All request data except for bodies (significantly smaller)</li>
<li><strong>$WPT_BODIES</strong> - All request data including bodies in the &quot;response_body&quot; entry</li>
</ul>
<p>Non-Chrome browsers (or in the case of an error collecting the requests) the replacement will replace null instead of an array (so it can be checked explicitly and differently from an empty array). That should make it possible to use the same script across all browsers.</p>
<p>For example, this script will return the number of requests:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">[</span>num<span class="token operator">-</span>requests<span class="token punctuation">]</span><br><span class="token keyword">let</span> requests <span class="token operator">=</span> $<span class="token constant">WPT_REQUESTS</span><span class="token punctuation">;</span><br><span class="token keyword">return</span> requests<span class="token punctuation">.</span>length<span class="token punctuation">;</span></code></pre>
<p>This is an example of what each entry in the requests array looks like:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span><br>    <span class="token string">"id"</span><span class="token operator">:</span> <span class="token string">"27F45246DFB3A2305FD309B6E7939FB8"</span><span class="token punctuation">,</span><br>    <span class="token string">"sequence"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span><br>    <span class="token string">"response_body"</span><span class="token operator">:</span> <span class="token string">"&lt;!DOCTYPE html>\r\n&lt;html>...(or null if body is not available)"</span><span class="token punctuation">,</span><br>    <span class="token string">"url"</span><span class="token operator">:</span> <span class="token string">"https:\/\/www.webpagetest.org\/"</span><span class="token punctuation">,</span><br>    <span class="token string">"status"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span><br>    <span class="token string">"connectionId"</span><span class="token operator">:</span> <span class="token number">65</span><span class="token punctuation">,</span><br>    <span class="token string">"protocol"</span><span class="token operator">:</span> <span class="token string">"http\/1.1"</span><span class="token punctuation">,</span><br>    <span class="token string">"connectionReused"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token string">"fromServiceWorker"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token string">"timing"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>        <span class="token string">"requestTime"</span><span class="token operator">:</span> <span class="token number">10087.17201</span><span class="token punctuation">,</span><br>        <span class="token string">"proxyStart"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><br>        <span class="token string">"proxyEnd"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><br>        <span class="token string">"dnsStart"</span><span class="token operator">:</span> <span class="token number">1.2210000000000001</span><span class="token punctuation">,</span><br>        <span class="token string">"dnsEnd"</span><span class="token operator">:</span> <span class="token number">3.5819999999999999</span><span class="token punctuation">,</span><br>        <span class="token string">"connectStart"</span><span class="token operator">:</span> <span class="token number">3.5819999999999999</span><span class="token punctuation">,</span><br>        <span class="token string">"connectEnd"</span><span class="token operator">:</span> <span class="token number">12.978999999999999</span><span class="token punctuation">,</span><br>        <span class="token string">"sslStart"</span><span class="token operator">:</span> <span class="token number">4.6310000000000002</span><span class="token punctuation">,</span><br>        <span class="token string">"sslEnd"</span><span class="token operator">:</span> <span class="token number">12.970000000000001</span><span class="token punctuation">,</span><br>        <span class="token string">"workerStart"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><br>        <span class="token string">"workerReady"</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><br>        <span class="token string">"sendStart"</span><span class="token operator">:</span> <span class="token number">14.414</span><span class="token punctuation">,</span><br>        <span class="token string">"sendEnd"</span><span class="token operator">:</span> <span class="token number">14.616</span><span class="token punctuation">,</span><br>        <span class="token string">"pushStart"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>        <span class="token string">"pushEnd"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>        <span class="token string">"receiveHeadersEnd"</span><span class="token operator">:</span> <span class="token number">79.477000000000004</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token string">"fromDiskCache"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token string">"remoteIPAddress"</span><span class="token operator">:</span> <span class="token string">"192.168.0.1"</span><span class="token punctuation">,</span><br>    <span class="token string">"remotePort"</span><span class="token operator">:</span> <span class="token number">443</span><span class="token punctuation">,</span><br>    <span class="token string">"securityState"</span><span class="token operator">:</span> <span class="token string">"secure"</span><span class="token punctuation">,</span><br>    <span class="token string">"securityDetails"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>        <span class="token string">"protocol"</span><span class="token operator">:</span> <span class="token string">"TLS 1.2"</span><span class="token punctuation">,</span><br>        <span class="token string">"keyExchange"</span><span class="token operator">:</span> <span class="token string">"ECDHE_RSA"</span><span class="token punctuation">,</span><br>        <span class="token string">"keyExchangeGroup"</span><span class="token operator">:</span> <span class="token string">"X25519"</span><span class="token punctuation">,</span><br>        <span class="token string">"cipher"</span><span class="token operator">:</span> <span class="token string">"CHACHA20_POLY1305"</span><span class="token punctuation">,</span><br>        <span class="token string">"certificateId"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>        <span class="token string">"subjectName"</span><span class="token operator">:</span> <span class="token string">"webpagetest.org"</span><span class="token punctuation">,</span><br>        <span class="token string">"sanList"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>            <span class="token string">"agent.webpagetest.org"</span><span class="token punctuation">,</span><br>            <span class="token string">"api.webpagetest.org"</span><span class="token punctuation">,</span><br>            <span class="token string">"cdn.webpagetest.org"</span><span class="token punctuation">,</span><br>            <span class="token string">"dev.webpagetest.org"</span><span class="token punctuation">,</span><br>            <span class="token string">"grafana.webpagetest.org"</span><span class="token punctuation">,</span><br>            <span class="token string">"origin.webpagetest.org"</span><span class="token punctuation">,</span><br>            <span class="token string">"staging.webpagetest.org"</span><span class="token punctuation">,</span><br>            <span class="token string">"static.webpagetest.org"</span><span class="token punctuation">,</span><br>            <span class="token string">"webpagetest.org"</span><span class="token punctuation">,</span><br>            <span class="token string">"www.webpagetest.org"</span><br>        <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token string">"issuer"</span><span class="token operator">:</span> <span class="token string">"Let's Encrypt Authority X3"</span><span class="token punctuation">,</span><br>        <span class="token string">"validFrom"</span><span class="token operator">:</span> <span class="token number">1585489109</span><span class="token punctuation">,</span><br>        <span class="token string">"validTo"</span><span class="token operator">:</span> <span class="token number">1593265109</span><span class="token punctuation">,</span><br>        <span class="token string">"signedCertificateTimestampList"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>            <span class="token punctuation">{</span><br>                <span class="token string">"status"</span><span class="token operator">:</span> <span class="token string">"Verified"</span><span class="token punctuation">,</span><br>                <span class="token string">"origin"</span><span class="token operator">:</span> <span class="token string">"Embedded in certificate"</span><span class="token punctuation">,</span><br>                <span class="token string">"logDescription"</span><span class="token operator">:</span> <span class="token string">"Cloudflare 'Nimbus2020' Log"</span><span class="token punctuation">,</span><br>                <span class="token string">"logId"</span><span class="token operator">:</span> <span class="token string">"5EA773F9DF56C0E7B536487DD049E0327A919A0C84A112128418759681714558"</span><span class="token punctuation">,</span><br>                <span class="token string">"timestamp"</span><span class="token operator">:</span> <span class="token number">1585492709357.0002</span><span class="token punctuation">,</span><br>                <span class="token string">"hashAlgorithm"</span><span class="token operator">:</span> <span class="token string">"SHA-256"</span><span class="token punctuation">,</span><br>                <span class="token string">"signatureAlgorithm"</span><span class="token operator">:</span> <span class="token string">"ECDSA"</span><span class="token punctuation">,</span><br>                <span class="token string">"signatureData"</span><span class="token operator">:</span> <span class="token string">"3044022029B253B977007F0896D940711887D8B8FC53A5660448A41B1EAC953998D7629802207172001F3DCA94418A5A9BB7F5E212C52B15FC9A992BF4727C4CC3C8F67D7C57"</span><br>            <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">{</span><br>                <span class="token string">"status"</span><span class="token operator">:</span> <span class="token string">"Verified"</span><span class="token punctuation">,</span><br>                <span class="token string">"origin"</span><span class="token operator">:</span> <span class="token string">"Embedded in certificate"</span><span class="token punctuation">,</span><br>                <span class="token string">"logDescription"</span><span class="token operator">:</span> <span class="token string">"Google 'Xenon2020' log"</span><span class="token punctuation">,</span><br>                <span class="token string">"logId"</span><span class="token operator">:</span> <span class="token string">"07B75C1BE57D68FFF1B0C61D2315C7BAE6577C5794B76AEEBC613A1A69D3A21C"</span><span class="token punctuation">,</span><br>                <span class="token string">"timestamp"</span><span class="token operator">:</span> <span class="token number">1585492709397</span><span class="token punctuation">,</span><br>                <span class="token string">"hashAlgorithm"</span><span class="token operator">:</span> <span class="token string">"SHA-256"</span><span class="token punctuation">,</span><br>                <span class="token string">"signatureAlgorithm"</span><span class="token operator">:</span> <span class="token string">"ECDSA"</span><span class="token punctuation">,</span><br>                <span class="token string">"signatureData"</span><span class="token operator">:</span> <span class="token string">"3045022064BD114975245658DDAB0494A2B79E87D9A2A43DD574041433AED26F6BE1ED8E02210083BBC6A4A68D15581374ACBB722D2AB99CF019BF0FF4DEF57AF1C75F20BE102B"</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token string">"certificateTransparencyCompliance"</span><span class="token operator">:</span> <span class="token string">"compliant"</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token string">"fromPrefetchCache"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token string">"response_headers"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>        <span class="token string">"Server"</span><span class="token operator">:</span> <span class="token string">"nginx\/1.14.0 (Ubuntu)"</span><span class="token punctuation">,</span><br>        <span class="token string">"Date"</span><span class="token operator">:</span> <span class="token string">"Wed, 08 Apr 2020 20:15:55 GMT"</span><span class="token punctuation">,</span><br>        <span class="token string">"Content-Type"</span><span class="token operator">:</span> <span class="token string">"text\/html; charset=UTF-8"</span><span class="token punctuation">,</span><br>        <span class="token string">"Transfer-Encoding"</span><span class="token operator">:</span> <span class="token string">"chunked"</span><span class="token punctuation">,</span><br>        <span class="token string">"Connection"</span><span class="token operator">:</span> <span class="token string">"keep-alive"</span><span class="token punctuation">,</span><br>        <span class="token string">"Vary"</span><span class="token operator">:</span> <span class="token string">"Accept-Encoding"</span><span class="token punctuation">,</span><br>        <span class="token string">"Access-Control-Allow-Origin"</span><span class="token operator">:</span> <span class="token string">"*"</span><span class="token punctuation">,</span><br>        <span class="token string">"Set-Cookie"</span><span class="token operator">:</span> <span class="token string">"o=d62f6783866a105f09bd9f6d43aa2b2259f5e4dc; expires=Thu, 08-Apr-2021 20:15:55 GMT; Max-Age=31536000; path=\/"</span><span class="token punctuation">,</span><br>        <span class="token string">"Timing-Allow-Origin"</span><span class="token operator">:</span> <span class="token string">"*"</span><span class="token punctuation">,</span><br>        <span class="token string">"Strict-Transport-Security"</span><span class="token operator">:</span> <span class="token string">"max-age=31536000; includeSubDomains; preload"</span><span class="token punctuation">,</span><br>        <span class="token string">"Link"</span><span class="token operator">:</span> <span class="token string">"&lt;https:\/\/www.webpagetest.org\/>; rel=\"canonical\""</span><span class="token punctuation">,</span><br>        <span class="token string">"Content-Encoding"</span><span class="token operator">:</span> <span class="token string">"gzip"</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token string">"request_headers"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>        <span class="token string">"Host"</span><span class="token operator">:</span> <span class="token string">"www.webpagetest.org"</span><span class="token punctuation">,</span><br>        <span class="token string">"Connection"</span><span class="token operator">:</span> <span class="token string">"keep-alive"</span><span class="token punctuation">,</span><br>        <span class="token string">"Upgrade-Insecure-Requests"</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span><br>        <span class="token string">"User-Agent"</span><span class="token operator">:</span> <span class="token string">"Mozilla\/5.0 (X11; Linux x86_64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/81.0.4044.92 Safari\/537.36 PTST\/200408.160406"</span><span class="token punctuation">,</span><br>        <span class="token string">"Accept"</span><span class="token operator">:</span> <span class="token string">"text\/html,application\/xhtml+xml,application\/xml;q=0.9,image\/webp,image\/apng,*\/*;q=0.8,application\/signed-exchange;v=b3;q=0.9"</span><span class="token punctuation">,</span><br>        <span class="token string">"Sec-Fetch-Site"</span><span class="token operator">:</span> <span class="token string">"cross-site"</span><span class="token punctuation">,</span><br>        <span class="token string">"Sec-Fetch-Mode"</span><span class="token operator">:</span> <span class="token string">"navigate"</span><span class="token punctuation">,</span><br>        <span class="token string">"Sec-Fetch-Dest"</span><span class="token operator">:</span> <span class="token string">"document"</span><span class="token punctuation">,</span><br>        <span class="token string">"Accept-Encoding"</span><span class="token operator">:</span> <span class="token string">"gzip, deflate, br"</span><span class="token punctuation">,</span><br>        <span class="token string">"Accept-Language"</span><span class="token operator">:</span> <span class="token string">"en-US,en;q=0.9"</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token string">"initiator"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>        <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"script"</span><span class="token punctuation">,</span><br>        <span class="token string">"stack"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>            <span class="token string">"callFrames"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>                <span class="token punctuation">{</span><br>                    <span class="token string">"functionName"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span><br>                    <span class="token string">"scriptId"</span><span class="token operator">:</span> <span class="token string">"8"</span><span class="token punctuation">,</span><br>                    <span class="token string">"url"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span><br>                    <span class="token string">"lineNumber"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>                    <span class="token string">"columnNumber"</span><span class="token operator">:</span> <span class="token number">209</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">]</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token string">"documentURL"</span><span class="token operator">:</span> <span class="token string">"https:\/\/www.webpagetest.org\/"</span><span class="token punctuation">,</span><br>    <span class="token string">"timestamp"</span><span class="token operator">:</span> <span class="token number">10087.170656</span><span class="token punctuation">,</span><br>    <span class="token string">"frameId"</span><span class="token operator">:</span> <span class="token string">"995DB78860532C6756D0E882BFB492E6"</span><span class="token punctuation">,</span><br>    <span class="token string">"hasUserGesture"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token string">"type"</span><span class="token operator">:</span> <span class="token string">"Document"</span><span class="token punctuation">,</span><br>    <span class="token string">"wallTime"</span><span class="token operator">:</span> <span class="token number">1586376955.1205921</span><span class="token punctuation">,</span><br>    <span class="token string">"transfer_size"</span><span class="token operator">:</span> <span class="token number">39755</span><br><span class="token punctuation">}</span></code></pre>
